<!doctype html>
<html class="no-js" lang="en">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title></title>
      <link rel="stylesheet" href="css/foundation.css" />
      <script src="js/vendor/modernizr.js"></script>
      <script src="js/snap.svg.js"></script>

    </head>


    <style>
      .elemente_menu_izq{
          width: 65px;
          height: 65px;
       
      }

      .elemente_menu_izq:hover{
           background: #B6B8AB;
          cursor: pointer;
      }

      .marco_elementos_m_iz li {
        margin-top: 5px;
        margin-left:5px; 
        display: block;
        width: 65px;
        height: 65px;
        padding: 0px;
        border: none;

      }
    </style>
  <body>

   <div class="off-canvas-wrap " data-offcanvas >
      <div class="inner-wrap">
        <nav class="tab-bar" id="barra_navegacion_1">
          <section class="left-small">
            <a class="left-off-canvas-toggle menu-icon" 
             id="bton_toogle_menu_iz" onclick="return  false " href="#" aria-expanded="false"><span></span></a>
          </section>

          <section class="middle tab-bar-section">
            <h1 class="title">Flujo grama</h1>
          </section>

        <!--
          <section class="right-small">
            <a class="right-off-canvas-toggle menu-icon" href="#" aria-expanded="false"><span></span></a>
          </section>
        -->
        </nav>




        <aside class="left-off-canvas-menu" id="menu_izquierdo" style="background:#F2F2F2">
          <ul class="small-block-grid-3 medium-block-grid-3 large-block-grid-3 marco_elementos_m_iz" style="margin:5px">
            
            <li class="has-tip"
            data-tooltip aria-haspopup="true"  title="Conector" >
            <svg  id="ele_menu_izq_conector1" class="elemente_menu_izq " 
             ></svg></li>
            

            <li class="has-tip"
            data-tooltip aria-haspopup="true"  title="Terminal"><svg  id="ele_menu_izq_conector2" class="elemente_menu_izq" 
             ></svg></li>


            <li class="has-tip" 
            data-tooltip aria-haspopup="true"  title="Actividad"
            ><svg  id="ele_menu_izq_conector3" class="elemente_menu_izq" 
               ></svg></li>
            

            <li class="has-tip" data-tooltip aria-haspopup="true"  title="Proceso">
              <svg  id="ele_menu_izq_conector4" class="elemente_menu_izq"  
              ></svg></li>
            
            <li class="has-tip" data-tooltip aria-haspopup="true"  title="Conector de Página">
              <svg  id="ele_menu_izq_conector5" class="elemente_menu_izq " 
              ></svg></li>

            <li class="has-tip" data-tooltip aria-haspopup="true"  title="Decisión"><svg  id="ele_menu_izq_conector6" class="elemente_menu_izq"  
               ></svg></li>
            
            <li class="has-tip" data-tooltip aria-haspopup="true"  title="Documento"><svg  id="ele_menu_izq_conector7" class="elemente_menu_izq"> </svg></li>
           
            <li  class="has-tip" data-tooltip aria-haspopup="true"  title="Multidocumento">
              <svg  id="ele_menu_izq_conector8" class="elemente_menu_izq"  ></svg></li>
            
           
          </ul>


        </aside>



        <section  style="overflow:none;" id="contenedor_principal">
            
          <div style="width:100% ;background: #ddd;
          height: 6px;">
          </div>


          <div style="width:100%;height:36px ;background: #FFFFFF;;
          "><h5 style="margin-left:10px">pag. 1</h5>
          </div>

          
          <div id="contenedor_principal_pag" 
           style="overflow:auto; background:#66A8CC; margin : 10px; border-top: 1px solid rgb(212, 218, 218);
border-left: 1px solid rgb(212,218,218); " >

           <div style="width:5000px; height:5000px; 
           border-top: 1px solid rgb(212, 218, 218);
           border-left: 1px solid rgb(212,218,218); 
           background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAT0lEQVQ4T2N8/fr/fwYiADfPP4avX5gIqmQEGSgqyshISOW373//c3EyE1Q3aiDukBwNQ5xhQ/1kAwpsQomaFHnqu3A06+EM/9GcQr+cAgBGqZrSrFyxegAAAABJRU5ErkJggg==); background-color: rgb(255, 255, 255);">
           </div>

          
          <svg id="gato"></svg>
          </div>
        </section>
        
      </div>
  </div>





    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      $('.off-canvas-wrap').foundation('offcanvas', 'show', 'move-right');
    

    $("#contenedor_principal_pag").width( $(window).width()-$("#menu_izquierdo").width()-15);
    $("#contenedor_principal_pag").height( $(window).height()-$("#barra_navegacion_1").height()-67);
     

     // *********************
     // resize -->  
     $(window).resize(function(){
      $("#contenedor_principal_pag").height( $(window).height()-$("#barra_navegacion_1").height()-67);

        if(estadoMenuAbierto)
         {
           $("#contenedor_principal_pag").width( $(window).width()-$("#menu_izquierdo").width()-15);
         }
         else {
            $("#contenedor_principal_pag").width( $(window).width()-15);
            
         }
     });


     var estadoMenuAbierto=true; // true esta abierto el menui izquierdo , o false esta cerrado el menu izquierdo

     //*******************
     // toogle de menu izquierdo
     // **********************
     function miToogleMenuIzquierdo(e){

      estadoMenuAbierto=!estadoMenuAbierto;
      $('.off-canvas-wrap').foundation('offcanvas', 'toggle', 'move-right'); 

       if(estadoMenuAbierto)
       {
         $("#contenedor_principal_pag").width( $(window).width()-$("#menu_izquierdo").width()-15);
       }
       else {
          $("#contenedor_principal_pag").width( $(window).width()-15);
          
       }


      return false;

     }
     $("#bton_toogle_menu_iz").click(function(e){
        miToogleMenuIzquierdo(e)
     });

      //svg      
    var s= Snap("#gato");

   var gridSize = 50;
      var orig = {
        x: 0,
        y: 0
      };
 
      var block = s.rect(100, 100, 100, 100, 20, 20);
          block.attr({
          fill: "rgb(236, 240, 241)",
          stroke: "#1f2c39",
          strokeWidth: 3
      });
 
      block.drag(
      
        function (dx, dy, x, y, e) {
            var xSnap = Snap.snapTo(gridSize, orig.x + dx, 100000000);
            var ySnap = Snap.snapTo(gridSize, orig.y + dy, 100000000);
            this.attr({
                x: xSnap,
                y: ySnap
            });
        },
 
        function (x, y, e) {
            orig.x = e.toElement.x.baseVal.value;
            orig.y = e.toElement.y.baseVal.value;
        });


      // conector 1 en la misma pagina
      var sEleConector1= Snap("#ele_menu_izq_conector1");
      var sEleConector1_c= sEleConector1.circle(33,33,30);
      sEleConector1_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });


      // terminador  - ele_menu_izq_conector2
      var sEleConector2= Snap("#ele_menu_izq_conector2");
      var sEleConector2_c= sEleConector2.rect(2,12,60,40,20,20);
      sEleConector2_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });



      // proceso (actividad)  - ele_menu_izq_conector3
      var sEleConector3= Snap("#ele_menu_izq_conector3");
      var sEleConector3_c= sEleConector3.rect(2,2,60,60);
      sEleConector3_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });



      // llama del proceso   - ele_menu_izq_conector4
      var sEleConector4= Snap("#ele_menu_izq_conector4");
      var sEleConector4_c= sEleConector4.rect(2,5,60,50);
      sEleConector4_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });
      var sEleConector4_c1= sEleConector4.rect(2,5,10,50);
      sEleConector4_c1.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });
      var sEleConector4_c2= sEleConector4.rect(52,5,10,50);
      sEleConector4_c2.attr({
         fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });



      // // llama del proceso   - ele_menu_izq_conector4
      var sEleConector5=   Snap("#ele_menu_izq_conector5")
      var sEleConector5_c= sEleConector5.polygon([2, 2, 62, 2, 62,30, 31,62,2,30]);
      sEleConector5_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });
   
      // decison    - ele_menu_izq_conector 6 
      var sEleConector6=   Snap("#ele_menu_izq_conector6")
      var sEleConector6_c= sEleConector6.polygon([32, 2, 62, 30, 32,60, 2,30]);
      sEleConector6_c.attr({
          fill: "#FDFEFA",
          stroke: "#000",
          strokeWidth: 2
      });
   


      // documento    - ele_menu_izq_conector 7 
      var sEleConector7=   Snap("#ele_menu_izq_conector7");
      Snap.load("img/documente.svg", function(f){
        var g= f.select("g");
        g.attr({fill: "#bada55"});
        
        sEleConector7.append(f);
      });
  




      // documento    - ele_menu_izq_conector 7 
      var sEleConector8=   Snap("#ele_menu_izq_conector8");
      Snap.load("img/muldocumento.svg", function(f){
        var g= f.select("g");
       // g.attr({fill: "#bada55"});
        
        sEleConector8.append(f);
      });
  

    /*var p = s.path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({
        fill: "none",
        stroke: "#bada55",
        strokeWidth: 5
    });
    p = p.pattern(0, 0, 10, 10);

    var big = s.circle(100,100,50);
    big.attr({fill:"#bada55"
          ,stroke:"#000"
          ,strokeWidth:5 
        });

    big.attr({
      fill: p
    });
*/
    </script>



  </body>
</html>
